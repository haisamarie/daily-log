---
title: 'パフォーマンス改善のための事前ロードの"preload と prefetch使い分け'
date: '2025-09-20'
thumbnail: '/images/posts/20250921-preload/speed.jpg'
---

サイトの高速化を実現するためにデータを事前にデータをロードするという手段は大いに有効です。よく使われる preload や prefetch の違いと役割について調べていきます。

## preload

preload は初回表示などで、HTML 解析の初期段階から高優先度で取得させること

### 使い方

```
<link rel="preload" as="image" href="/images/example.avif" />
```

preload をしたいものがある場合、link タグに下記を指定し、head タグで読み込む。

- rel="preload" : プリロード指示
- as : リソースの種類（as は必須）
- href : プリロード対象の URL

[https://developer.mozilla.org/ja/docs/Web/HTML/Reference/Attributes/rel/preload](https://developer.mozilla.org/ja/docs/Web/HTML/Reference/Attributes/rel/preload)

---

## prefetch

prefetch は、近い将来ユーザーが移動する可能性のあるページに対して、バックグラウンドで文書やサブリソースをあらかじめ高速な場所に読み込んでおくこと。
ちなみにブラウザが必ず取得するとは限らない。帯域やメモリ状況次第でスキップされます。

### 使い方

```
<link rel="prefetch" href="example.html" />
```

prefetch をしたいものがある場合、link タグに下記を指定し、head タグで読み込む。

- rel="prefetch" : プリフェッチ指示
- href : プリフェッチする URL

[https://developer.mozilla.org/ja/docs/Glossary/Prefetch](https://developer.mozilla.org/ja/docs/Glossary/Prefetch)

---

## 優先度と裁量

preload: ブラウザに強制的にリソースを先読みさせる。必須に近い。
prefetch: あくまでヒント。低優先度で、余裕があるときのみ取得。

## preload を使うべきところ

- ファーストビューの画像(特に background-image で遅延しがちな場合)
- フォントの読み込み

## prefetch を使うべきところ

- 自動再生スライダーの 2 枚目以降
- モーダル/タブ/アコーディオン等、ユーザー操作直後に使うデータを prefetch しておく

---

## 注意すべき点

- preload する際、同一画像の複数形式を同時設定しない。
  無駄な転送の原因になってしまうので、picture タグで複数形式指定していたとしても、avif だけ等
  どれか一つの形式に絞る。

- フォントで preload 指定するときは、crossorigin を指定する
  フォントは CORS リソースの扱いになるため、必ず指定しないと、CSS からのフォント取得とモード不一致が起きて二重取得・無視の原因になります。

- preload と prefetch を同じリソースに併用しない
  無駄な転送の原因になります。

---

## まとめ

初回ロード時すぐ使うなら preload を設定
すぐではないが近い将来必要 prefetch と考えると良さそうです。
